(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c2489c4"],{"063c":function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return n}));var a=s("b775");function i(t){return Object(a["a"])({url:"/api/comment",method:"post",data:t})}function n(t,e,s){return Object(a["a"])({url:"/comments/user/"+t,method:"get",params:{page:e,size:s}})}},"0de6":function(t,e,s){},"2e30":function(t,e,s){"use strict";var a=s("d62d"),i=s.n(a);i.a},"50e1":function(t,e,s){"use strict";var a=s("0de6"),i=s.n(a);i.a},"7c54":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-one-quarter"},[s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s(t.user.alias))])]),s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("el-avatar",{attrs:{size:64,src:t.user.avatar}})],1)])]),s("el-divider"),s("div",{staticClass:"content"},[s("p",[t._v(" 积分："),s("code",[t._v(t._s(t.user.score))])]),s("p",[t._v("入驻："+t._s(t.dayjs(t.user.createTime).format("YYYY/MM/DD")))]),s("p",[t._v("签名："+t._s(t.user.signature))])])],1)],1),s("div",{staticClass:"column"},[t.flag?s("user_topics",{attrs:{userId:t.user.id}}):t._e(),t.flag?s("user_comments",{attrs:{userId:t.user.id}}):t._e()],1)])},i=[],n=s("c24f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card content",attrs:{shadow:"never"}},[s("div",{staticClass:"has-text-weight-bold",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("话题")])]),0===t.topics.length?s("div",[t._v(" 暂无话题 ")]):s("div",{staticClass:"user-info"},t._l(t.topics,(function(e,a){return s("article",{key:a,staticClass:"media"},[s("div",{staticClass:"media-content"},[s("div",{staticClass:"content ellipsis is-ellipsis-1"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[s("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[t._v(" "+t._s(e.title)+" ")])],1)],1),s("nav",{staticClass:"level is-mobile has-text-grey is-size-7"},[s("div",{staticClass:"level-left"},[s("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD HH:mm:ss"))+" ")])])])])])})),0),s("pagination",{directives:[{name:"show",rawName:"v-show",value:t.page.total>0,expression:"page.total > 0"}],staticClass:"mt-5",attrs:{total:t.page.total,page:t.page.current,limit:t.page.size},on:{"update:page":function(e){return t.$set(t.page,"current",e)},"update:limit":function(e){return t.$set(t.page,"size",e)},pagination:t.fetchTopics}})],1)},c=[],o=s("0fac"),l=s("333d"),u={name:"user_topics",components:{Pagination:l["a"]},props:{userId:{}},data:function(){return{topics:[],page:{current:1,size:5,total:0}}},created:function(){this.fetchTopics()},methods:{fetchTopics:function(){var t=this;Object(o["e"])(this.userId,this.page.current,this.page.size).then((function(e){var s=e.data;t.topics=s.records,t.page.current=s.current,t.page.total=s.total,t.page.size=s.size}))}}},d=u,p=(s("2e30"),s("2877")),m=Object(p["a"])(d,r,c,!1,null,"42af21b0",null),f=m.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[s("div",{staticClass:"has-text-weight-bold",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("评论")])]),0===t.comments.length?s("div",[t._v(" 暂未发表过评论 ")]):s("div",{staticClass:"user-info"},t._l(t.comments,(function(e,a){return s("article",{key:a,staticClass:"media"},[s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("router-link",{attrs:{to:{name:"detail",params:{id:e.id}}}},[t._v(" "+t._s(e.content)+" ")])],1),s("nav",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-left"},[s("i",{staticClass:"fa fa-calendar"}),t._v(" "+t._s(e.createTime)+" "),s("i",{staticClass:"fa fa-eye"}),t._v(" 20支持 ")])])])])})),0),s("pagination",{directives:[{name:"show",rawName:"v-show",value:t.page.total>0,expression:"page.total > 0"}],staticClass:"mt-5",attrs:{total:t.page.total,page:t.page.current,limit:t.page.size},on:{"update:page":function(e){return t.$set(t.page,"current",e)},"update:limit":function(e){return t.$set(t.page,"size",e)},pagination:t.fetchComments}})],1)},h=[],g=s("895f"),_=s("063c"),C={name:"user_comments",props:{userId:{}},data:function(){return{comments:[],page:1,size:5}},created:function(){this.fetchComments()},methods:{fetchComments:function(){var t=this;Object(_["a"])(this.userId,this.page,this.size).then((function(e){var s=e.code,a=e.data,i=e.message;200===s?t.comments=a.records:Object(g["a"])(i)}))}}},b=C,w=(s("50e1"),Object(p["a"])(b,v,h,!1,null,"481044de",null)),j=w.exports,z={name:"Profile",components:{user_comments:j,user_topics:f},data:function(){return{flag:!1,user:{}}},created:function(){this.fetchUserById()},methods:{fetchUserById:function(){var t=this;Object(n["a"])(this.$route.params.username).then((function(e){var s=e.data;t.user=s,t.flag=!0}))}}},x=z,O=Object(p["a"])(x,a,i,!1,null,"7e369286",null);e["default"]=O.exports},c24f:function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return n}));var a=s("b775");function i(t){return Object(a["a"])({url:"/register",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/user/"+t,method:"get"})}},d62d:function(t,e,s){}}]);