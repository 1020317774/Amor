(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aafccf8"],{"333d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},i=[];a("a9e3");Math.easeInOutQuad=function(t,e,a,s){return t/=s/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(t,e,a){var s=o(),i=t-s,c=20,l=0;e="undefined"===typeof e?500:e;var u=function t(){l+=c;var o=Math.easeInOutQuad(l,s,i,e);r(o),l<e?n(t):a&&"function"===typeof a&&a()};u()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&c(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},u=l,d=(a("ed8c"),a("2877")),m=Object(d["a"])(u,s,i,!1,null,"59c22a59",null);e["a"]=m.exports},7156:function(t,e,a){var s=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var n,r;return i&&"function"==typeof(n=e.constructor)&&n!==a&&s(r=n.prototype)&&r!==a.prototype&&i(t,r),t}},"8b29":function(t,e,a){t.exports=a.p+"static/img/wxpay.97f3059d.jpg"},a9e3:function(t,e,a){"use strict";var s=a("83ab"),i=a("da84"),n=a("94ca"),r=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),m=a("7c73"),p=a("241c").f,f=a("06cf").f,h=a("9bf2").f,v=a("58a8").trim,g="Number",b=i[g],C=b.prototype,_=c(m(C))==g,y=function(t){var e,a,s,i,n,r,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+l}for(n=l.slice(2),r=n.length,o=0;o<r;o++)if(c=n.charCodeAt(o),c<48||c>i)return NaN;return parseInt(n,s)}return+l};if(n(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(_?d((function(){C.valueOf.call(a)})):c(a)!=g)?l(new b(y(e)),a,x):y(e)},w=s?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;w.length>j;j++)o(b,k=w[j])&&!o(x,k)&&h(x,k,f(b,k));x.prototype=C,C.constructor=x,r(i,g,x)}},ae0f:function(t,e,a){},bb51:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"box"},[t._v("🔔 "+t._s(t.notice.content))]),a("HomeCard"),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-three-quarters"},[a("TopicList")],1),a("div",{staticClass:"column"},[a("CardBar")],1)])],1)},i=[],n=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("login-welcome"),a("tip-card"),a("PromotionCard"),a("links-card"),a("donate-card")],1)},o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("🙉每日一句")])]),a("div",[a("div",{staticClass:"has-text-left block"},[t._v(" "+t._s(t.tip.content)+" ")]),a("div",{staticClass:"has-text-right mt-5 block"},[t._v(" ——"+t._s(t.tip.author)+" ")])])])},l=[],u=a("b775");function d(t){return Object(u["a"])({url:"/api/tip/today",method:"get",params:{type:t}})}var m={name:"Tip",data:function(){return{tip:{},type:1}},created:function(){this.fetchTodayTip()},methods:{fetchTodayTip:function(){var t=this;d(this.type).then((function(e){var a=e.data;t.tip=a}))}}},p=m,f=a("2877"),h=Object(f["a"])(p,c,l,!1,null,"92d5a950",null),v=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("👍推广")])]),a("div",t._l(t.list,(function(e,s){return a("p",{key:s,staticClass:"block"},[a("a",{attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.title))])])})),0)])},b=[];function C(){return Object(u["a"])({url:"/api/promotion/all",method:"get"})}var _={name:"Promotion",data:function(){return{list:[]}},created:function(){this.fetchList()},methods:{fetchList:function(){var t=this;C().then((function(e){var a=e.data;t.list=a}))}}},y=_,k=Object(f["a"])(y,g,b,!1,null,"5269a852",null),x=k.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("🙇支持")])]),a("div",[a("img",{attrs:{src:t.donationImg,width:"320",height:"400"}})])])},j=[],T={name:"Donate",data:function(){return{donationImg:a("8b29")}}},N=T,O=Object(f["a"])(N,w,j,!1,null,"7a9c120e",null),z=O.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("🚃友链")])]),a("div",t._l(t.friendLinks,(function(t,e){return a("a",{key:e,attrs:{href:t.link,title:"V2ex",target:"_blank"}},[a("img",{staticClass:"mb-2",attrs:{src:t.icon}})])})),0)])},E=[];function I(){return Object(u["a"])({url:"/api/friend_link/all",method:"get"})}var $={name:"Links",data:function(){return{friendLinks:[]}},created:function(){this.fetchFriendLinks()},methods:{fetchFriendLinks:function(){var t=this;I().then((function(e){t.friendLinks=e.data}))}}},L=$,A=Object(f["a"])(L,S,E,!1,null,"5ad4a38d",null),M=A.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-coffee fa-fw"}),t._v(" 统计")])]),a("div",[a("ul",[a("li",{staticClass:"mb-3"},[t._v("社区会员: "+t._s(t.count.user)+" 人")]),a("li",{staticClass:"mb-3"},[t._v("在线人数: "+t._s(t.websocketData.data)+" 人")]),a("li",{staticClass:"mb-3"},[t._v("主题数: "+t._s(t.count.topic)+" 个")]),a("li",{staticClass:"mb-3"},[t._v("回帖数: "+t._s(t.count.comment)+" 条")])])])])},D=[],P=(a("a9e3"),a("5f87"));function q(){return Object(u["a"])({url:"/api/size/count",method:"get"})}var F={name:"Count",data:function(){return{count:{},path:"ws://127.0.0.1:9999/websocket/online",socket:"",online:Number,websocketData:{},token:Object(P["b"])()}},mounted:function(){this.init()},methods:{init:function(){var t=this;"undefined"===typeof WebSocket?alert("您的浏览器不支持socket"):(this.socket=new WebSocket(this.path),this.socket.onopen=this.onopen,this.socket.onerror=this.onerror,this.socket.onmessage=this.onmessage,this.socket.onclose=this.onclose,q().then((function(e){var a=e.data;t.count=a})))},onopen:function(){},onerror:function(){console.log("websocket发生了错误")},onmessage:function(t){this.websocketData=JSON.parse(t.data),console.log(this.websocketData.data)},onclose:function(){console.log("socket已经关闭")},send:function(t){this.socket.send(t)}},destroyed:function(){this.socket.onclose=this.onclose}},B=F,R=Object(f["a"])(B,Y,D,!1,null,"5864fc9b",null),V=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-cube"}),t._v(" 开源项目")])]),a("div")])},W=[],G=a("ff41"),J=a.n(G),Q=(a("2f2f"),{name:"OpenSource",created:function(){this.renderMarkdown()},methods:{renderMarkdown:function(){J.a.preview(document.getElementById("preview"))}}}),U=Q,X=Object(f["a"])(U,H,W,!1,null,"8ca233e2",null),K=X.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("🖋发布")])]),null!=t.token&&""!==t.token?a("div",{staticClass:"has-text-centered"},[a("b-button",{attrs:{type:"is-danger",tag:"router-link",to:{path:"/topic/post"},outlined:""}},[t._v("✍ 发表想法")])],1):a("div",{staticClass:"has-text-centered"},[a("b-button",{attrs:{type:"is-primary",tag:"router-link",to:{path:"/register"},outlined:""}},[t._v("马上注册")]),a("b-button",{staticClass:"ml-2",attrs:{type:"is-danger",tag:"router-link",to:{path:"/login"},outlined:""}},[t._v(" 社区登入")])],1)])},tt=[],et=a("5530"),at=a("2f62"),st={name:"LoginWelcome",computed:Object(et["a"])({},Object(at["b"])(["token"]))},it=st,nt=Object(f["a"])(it,Z,tt,!1,null,"1fb566c3",null),rt=nt.exports,ot={name:"CardBar",components:{LoginWelcome:rt,OpenSource:K,CountCard:V,LinksCard:M,DonateCard:z,PromotionCard:x,TipCard:v}},ct=ot,lt=Object(f["a"])(ct,r,o,!1,null,"0ea4f4aa",null),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"最新资讯",name:"latest"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level has-text-grey is-mobile  is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-primary mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{path:"/member/"+e.username+"/home"}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-hidden-mobile is-success is-light mr-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"is-hidden-mobile"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0),a("el-tab-pane",{attrs:{label:"热门主题",name:"hot"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level has-text-grey is-mobile  is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{name:"user",params:{username:e.username}}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-hidden-mobile is-success is-light mr-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"is-hidden-mobile"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0),a("el-tab-pane",{attrs:{label:"精华主题",name:"essence"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level has-text-grey is-mobile  is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{name:"user",params:{username:e.username}}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-hidden-mobile is-success is-light mr-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"is-hidden-mobile"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0)],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.page.total>0,expression:"page.total > 0"}],attrs:{total:t.page.total,page:t.page.current,limit:t.page.size},on:{"update:page":function(e){return t.$set(t.page,"current",e)},"update:limit":function(e){return t.$set(t.page,"size",e)},pagination:t.init}})],1)],1)},mt=[],pt=(a("b0c0"),a("0fac")),ft=a("333d"),ht={name:"TopicList",components:{Pagination:ft["a"]},data:function(){return{activeName:"latest",articleList:[{avatar:String,createTime:Date}],page:{current:1,size:10,total:0,tab:"latest"}}},created:function(){this.init(this.tab)},methods:{init:function(t){var e=this;Object(pt["b"])(this.page.current,this.page.size,t).then((function(t){var a=t.data;e.page.current=a.current,e.page.total=a.total,e.page.size=a.size,e.articleList=a.records}))},handleClick:function(t){this.init(t.name)}}},vt=ht,gt=Object(f["a"])(vt,dt,mt,!1,null,"70086dba",null),bt=gt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns is-hidden-mobile is-multiline has-text-centered"},[a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/explore"}}},[a("section",{staticClass:"box my-card hero is-success"},[a("i",{staticClass:"fa fa-server fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("发现")])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/activities"}}},[a("section",{staticClass:"box my-card hero is-warning"},[a("i",{staticClass:"fa fa-file-sound-o fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("活动")])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/idle"}}},[a("section",{staticClass:"box my-card hero is-info"},[a("i",{staticClass:"el-icon-help fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("圆桌派")])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/columns"}}},[a("section",{staticClass:"box my-card hero is-danger"},[a("i",{staticClass:"fa fa-cube fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("优质专栏")])])])],1)])},_t=[],yt={name:"HomeCard"},kt=yt,xt=Object(f["a"])(kt,Ct,_t,!1,null,"550e8fc4",null),wt=xt.exports,jt=a("c24f");function Tt(){return Object(u["a"])({url:"/api/notice/show",method:"get"})}var Nt={name:"Home",components:{TopicList:bt,CardBar:ut,HomeCard:wt},data:function(){return{notice:"",active:{user:this.$route.query.user,code:this.$route.query.code}}},created:function(){this.handleActive(),this.fetchNotice()},methods:{handleActive:function(){var t=this;this.active.code&&this.active.user&&Object(jt["a"])(this.active).then((function(e){var a=e.code,s=e.message;200===a?t.$message({message:s,type:"success"}):t.$message.error(s)}))},fetchNotice:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Tt().then((function(e){var a=e.data;t.notice=a}));case 1:case"end":return e.stop()}}),e)})))()}}},Ot=Nt,zt=Object(f["a"])(Ot,s,i,!1,null,"1c4c5e35",null);e["default"]=zt.exports},c24f:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var s=a("b775");function i(t){return Object(s["a"])({url:"/api/user/active",method:"post",data:t})}function n(t,e,a){return Object(s["a"])({url:"/api/user/"+t,method:"get",params:{pageNo:e,size:a}})}},ed8c:function(t,e,a){"use strict";var s=a("ae0f"),i=a.n(s);i.a}}]);