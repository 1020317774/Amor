(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-396f4637"],{"007b":function(t,e,a){t.exports=a.p+"static/img/donation.05f98837.jpg"},"333d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},i=[];a("a9e3");Math.easeInOutQuad=function(t,e,a,s){return t/=s/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(t,e,a){var s=c(),i=t-s,o=20,l=0;e="undefined"===typeof e?500:e;var u=function t(){l+=o;var c=Math.easeInOutQuad(l,s,i,e);r(c),l<e?n(t):a&&"function"===typeof a&&a()};u()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&o(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&o(0,800)}}},u=l,d=(a("705c"),a("2877")),m=Object(d["a"])(u,s,i,!1,null,"dc668ea4",null);e["a"]=m.exports},"705c":function(t,e,a){"use strict";var s=a("a99e"),i=a.n(s);i.a},7156:function(t,e,a){var s=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var n,r;return i&&"function"==typeof(n=e.constructor)&&n!==a&&s(r=n.prototype)&&r!==a.prototype&&i(t,r),t}},a99e:function(t,e,a){},a9e3:function(t,e,a){"use strict";var s=a("83ab"),i=a("da84"),n=a("94ca"),r=a("6eeb"),c=a("5135"),o=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),m=a("7c73"),f=a("241c").f,p=a("06cf").f,h=a("9bf2").f,v=a("58a8").trim,g="Number",b=i[g],C=b.prototype,_=o(m(C))==g,y=function(t){var e,a,s,i,n,r,c,o,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+l}for(n=l.slice(2),r=n.length,c=0;c<r;c++)if(o=n.charCodeAt(c),o<48||o>i)return NaN;return parseInt(n,s)}return+l};if(n(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(_?d((function(){C.valueOf.call(a)})):o(a)!=g)?l(new b(y(e)),a,x):y(e)},w=s?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;w.length>j;j++)c(b,k=w[j])&&!c(x,k)&&h(x,k,p(b,k));x.prototype=C,C.constructor=x,r(i,g,x)}},bb51:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"box"},[a("p",[t._v("🎉 "+t._s(t.notice.content))])]),a("HomeCard"),a("div",{staticClass:"columns is-mobile topics"},[a("div",{staticClass:"column is-three-quarters"},[a("TopicList")],1),a("div",{staticClass:"column"},[a("CardBar")],1)])],1)},i=[],n=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("tip-card"),a("ad-card"),a("links-card"),a("donate-card")],1)},c=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-cube"}),t._v(" 今日赠言")])]),a("div",[a("div",{staticClass:"has-text-left block"},[t._v(" "+t._s(t.tip.content)+" ")]),a("div",{staticClass:"has-text-right mt-5 block"},[t._v(" ——"+t._s(t.tip.author)+" ")])])])},l=[],u=a("b775");function d(t){return Object(u["a"])({url:"/today/tip",method:"get",params:{type:t}})}var m=a("895f"),f={name:"Tip",data:function(){return{tip:{},type:1}},created:function(){this.fetchTodayTip()},methods:{fetchTodayTip:function(){var t=this;d(this.type).then((function(e){var a=e.code,s=e.data;200===a?t.tip=s:Object(m["b"])("Tips接口错误，数据获取失败！")}))}}},p=f,h=a("2877"),v=Object(h["a"])(p,o,l,!1,null,"6b0353e2",null),g=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-audio-description"}),t._v(" 推广")])]),a("div",[a("ul",t._l(t.ads,(function(e,s){return a("li",{key:s,staticStyle:{padding:"6px 0"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.description}},[a("a",{attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.title))])])],1)})),0)])])},C=[];function _(){return Object(u["a"])({url:"/ads",method:"get"})}var y={name:"Ad",data:function(){return{ads:[]}},created:function(){this.fetchAds()},methods:{fetchAds:function(){var t=this;_().then((function(e){var a=e.code,s=e.data;200===a?t.ads=s:Object(m["b"])(":推广接口错误，数据获取失败！")}))}}},k=y,x=Object(h["a"])(k,b,C,!1,null,"36529860",null),w=x.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-money"}),t._v(" 支持")])]),a("div",[a("img",{attrs:{src:t.donationImg,width:"320",height:"400"}})])])},T=[],N={name:"Donate",data:function(){return{donationImg:a("007b")}}},O=N,z=Object(h["a"])(O,j,T,!1,null,"14bf59ca",null),S=z.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-random"}),t._v(" 友链")])]),a("div",t._l(t.friendLinks,(function(t,e){return a("a",{key:e,attrs:{href:t.link,title:"V2ex",target:"_blank"}},[a("img",{staticClass:"mb-2",attrs:{src:t.icon}})])})),0)])},I=[];function $(){return Object(u["a"])({url:"/friend_links",method:"get"})}var A={name:"Links",data:function(){return{friendLinks:[]}},created:function(){this.fetchFriendLinks()},methods:{fetchFriendLinks:function(){var t=this;$().then((function(e){t.friendLinks=e.data}))}}},L=A,M=Object(h["a"])(L,E,I,!1,null,"1678675e",null),Y=M.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-coffee fa-fw"}),t._v(" 统计")])]),a("div",[a("ul",[a("li",{staticClass:"mb-3"},[t._v("社区会员: "+t._s(t.count.user)+" 人")]),a("li",{staticClass:"mb-3"},[t._v("在线人数: "+t._s(t.websocketData.data)+" 人")]),a("li",{staticClass:"mb-3"},[t._v("主题数: "+t._s(t.count.topic)+" 个")]),a("li",{staticClass:"mb-3"},[t._v("回帖数: "+t._s(t.count.comment)+" 条")])])])])},q=[],F=(a("a9e3"),a("5f87"));function P(){return Object(u["a"])({url:"/size/count",method:"get"})}var B={name:"Count",data:function(){return{count:{},path:"ws://127.0.0.1:9999/websocket/online",socket:"",online:Number,websocketData:{},token:Object(F["b"])()}},mounted:function(){this.init()},methods:{init:function(){var t=this;"undefined"===typeof WebSocket?alert("您的浏览器不支持socket"):(this.socket=new WebSocket(this.path),this.socket.onopen=this.onopen,this.socket.onerror=this.onerror,this.socket.onmessage=this.onmessage,this.socket.onclose=this.onclose,P().then((function(e){var a=e.data;t.count=a})))},onopen:function(){},onerror:function(){console.log("websocket发生了错误")},onmessage:function(t){this.websocketData=JSON.parse(t.data),console.log(this.websocketData.data)},onclose:function(){console.log("socket已经关闭")},send:function(t){this.socket.send(t)}},destroyed:function(){this.socket.onclose=this.onclose}},R=B,V=Object(h["a"])(R,D,q,!1,null,"5864fc9b",null),H=V.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-cube"}),t._v(" 开源项目")])]),a("div")])},J=[],Q=a("ff41"),U=a.n(Q),W=(a("2f2f"),{name:"OpenSource",created:function(){this.renderMarkdown()},methods:{renderMarkdown:function(){U.a.preview(document.getElementById("preview"))}}}),X=W,K=Object(h["a"])(X,G,J,!1,null,"8ca233e2",null),Z=K.exports,tt={name:"CardBar",components:{OpenSource:Z,CountCard:H,LinksCard:Y,DonateCard:S,AdCard:w,TipCard:g}},et=tt,at=Object(h["a"])(et,r,c,!1,null,"06d3381b",null),st=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"shadow-2",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"最新资讯",name:"latest"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6 has-text-weight-bold"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level is-mobile has-text-grey is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{name:"user",params:{username:e.username}}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-success is-light mx-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"mx-1"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0),a("el-tab-pane",{attrs:{label:"热门主题",name:"hot"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6 has-text-weight-bold"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level is-mobile has-text-grey is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{name:"user",params:{username:e.username}}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-success is-light mx-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"mx-1"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0),a("el-tab-pane",{attrs:{label:"精华主题",name:"essence"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6 has-text-weight-bold"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level is-mobile has-text-grey is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{name:"user",params:{username:e.username}}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-success is-light mx-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"mx-1"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0)],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.page.total>0,expression:"page.total > 0"}],attrs:{total:t.page.total,page:t.page.current,limit:t.page.size},on:{"update:page":function(e){return t.$set(t.page,"current",e)},"update:limit":function(e){return t.$set(t.page,"size",e)},pagination:t.init}})],1)},nt=[],rt=(a("b0c0"),a("0fac")),ct=a("333d"),ot={name:"TopicList",components:{Pagination:ct["a"]},data:function(){return{activeName:"latest",articleList:[{avatar:String,createTime:Date}],page:{current:1,size:10,total:0,tab:"latest"}}},created:function(){this.init(this.tab)},methods:{init:function(t){var e=this;Object(rt["b"])(this.page.current,this.page.size,t).then((function(t){var a=t.data;e.page.current=a.current,e.page.total=a.total,e.page.size=a.size,e.articleList=a.records}))},handleClick:function(t){this.init(t.name)}}},lt=ot,ut=Object(h["a"])(lt,it,nt,!1,null,"86a4867c",null),dt=ut.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns is-multiline has-text-centered"},[a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/event"}}},[a("section",{staticClass:"box my-card hero is-warning"},[a("div",{},[a("i",{staticClass:"fa fa-meetup fa-4x"}),a("h2",{staticClass:"subtitle mt-5"},[t._v(" 活动 ")])])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{name:"roundtable"}}},[a("section",{staticClass:"box my-card hero is-info"},[a("div",{},[a("i",{staticClass:"el-icon-help fa-4x"}),a("h2",{staticClass:"subtitle mt-5"},[t._v(" 圆桌派 ")])])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{name:"explore"}}},[a("section",{staticClass:"box my-card hero is-success"},[a("div",{},[a("i",{staticClass:"fa fa-server fa-4x"}),a("h2",{staticClass:"subtitle mt-5"},[t._v(" 探索 ")])])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{name:"column"}}},[a("section",{staticClass:"box my-card hero is-danger"},[a("div",{},[a("i",{staticClass:"fa fa-cube fa-4x"}),a("h2",{staticClass:"subtitle mt-5"},[t._v(" 优质专栏 ")])])])])],1)])},ft=[],pt={name:"HomeCard"},ht=pt,vt=Object(h["a"])(ht,mt,ft,!1,null,"6fc1098f",null),gt=vt.exports,bt=a("c24f");function Ct(){return Object(u["a"])({url:"/notice/show",method:"get"})}var _t={name:"Home",components:{TopicList:dt,CardBar:st,HomeCard:gt},data:function(){return{notice:"",active:{user:this.$route.query.user,code:this.$route.query.code}}},created:function(){this.handleActive(),this.fetchNotice()},methods:{handleActive:function(){var t=this;this.active.code&&this.active.user&&Object(bt["a"])(this.active).then((function(e){var a=e.code,s=e.message;200===a?t.$message({message:s,type:"success"}):t.$message.error(s)}))},fetchNotice:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ct().then((function(e){var a=e.data;t.notice=a}));case 1:case"end":return e.stop()}}),e)})))()}}},yt=_t,kt=Object(h["a"])(yt,s,i,!1,null,"00f1ac38",null);e["default"]=kt.exports},c24f:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));var s=a("b775");function i(t){return Object(s["a"])({url:"/register",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/user/active",method:"post",data:t})}function r(t,e,a){return Object(s["a"])({url:"/user/"+t,method:"get",params:{pageNo:e,size:a}})}}}]);