(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c106537"],{"007b":function(t,e,a){t.exports=a.p+"static/img/donation.05f98837.jpg"},"333d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},i=[];a("a9e3");Math.easeInOutQuad=function(t,e,a,s){return t/=s/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(t,e,a){var s=o(),i=t-s,c=20,l=0;e="undefined"===typeof e?500:e;var u=function t(){l+=c;var o=Math.easeInOutQuad(l,s,i,e);r(o),l<e?n(t):a&&"function"===typeof a&&a()};u()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&c(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},u=l,d=(a("b9ae"),a("2877")),m=Object(d["a"])(u,s,i,!1,null,"75fddf5c",null);e["a"]=m.exports},"46c1":function(t,e,a){},7156:function(t,e,a){var s=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var n,r;return i&&"function"==typeof(n=e.constructor)&&n!==a&&s(r=n.prototype)&&r!==a.prototype&&i(t,r),t}},a9e3:function(t,e,a){"use strict";var s=a("83ab"),i=a("da84"),n=a("94ca"),r=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),m=a("7c73"),p=a("241c").f,f=a("06cf").f,h=a("9bf2").f,v=a("58a8").trim,g="Number",b=i[g],_=b.prototype,C=c(m(_))==g,k=function(t){var e,a,s,i,n,r,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+l}for(n=l.slice(2),r=n.length,o=0;o<r;o++)if(c=n.charCodeAt(o),c<48||c>i)return NaN;return parseInt(n,s)}return+l};if(n(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var y,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(C?d((function(){_.valueOf.call(a)})):c(a)!=g)?l(new b(k(e)),a,x):k(e)},w=s?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;w.length>j;j++)o(b,y=w[j])&&!o(x,y)&&h(x,y,f(b,y));x.prototype=_,_.constructor=x,r(i,g,x)}},b9ae:function(t,e,a){"use strict";var s=a("46c1"),i=a.n(s);i.a},bb51:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"box"},[t._v("🔔 "+t._s(t.notice.content))]),a("HomeCard"),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-three-quarters"},[a("TopicList")],1),a("div",{staticClass:"column"},[a("CardBar")],1)])],1)},i=[],n=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("login-welcome"),a("tip-card"),a("ad-card"),a("links-card"),a("donate-card")],1)},o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("💌今日赠言")])]),a("div",[a("div",{staticClass:"has-text-left block"},[t._v(" "+t._s(t.tip.content)+" ")]),a("div",{staticClass:"has-text-right mt-5 block"},[t._v(" ——"+t._s(t.tip.author)+" ")])])])},l=[],u=a("b775");function d(t){return Object(u["a"])({url:"/today/tip",method:"get",params:{type:t}})}var m=a("5c96");function p(t){m["Notification"].error({title:"error",message:t})}var f={name:"Tip",data:function(){return{tip:{},type:1}},created:function(){this.fetchTodayTip()},methods:{fetchTodayTip:function(){var t=this;d(this.type).then((function(e){var a=e.code,s=e.data;200===a?t.tip=s:p("Tips接口错误，数据获取失败！")}))}}},h=f,v=a("2877"),g=Object(v["a"])(h,c,l,!1,null,"4b9b5578",null),b=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("👍推广")])]),a("div",t._l(t.ads,(function(e,s){return a("p",{key:s,staticClass:"block"},[a("a",{attrs:{href:e.link,target:"_blank"}},[t._v(t._s(e.title))])])})),0)])},C=[];function k(){return Object(u["a"])({url:"/ads",method:"get"})}var y={name:"Ad",data:function(){return{ads:[]}},created:function(){this.fetchAds()},methods:{fetchAds:function(){var t=this;k().then((function(e){var a=e.code,s=e.data;200===a?t.ads=s:p(":推广接口错误，数据获取失败！")}))}}},x=y,w=Object(v["a"])(x,_,C,!1,null,"408620b4",null),j=w.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("🧧支持")])]),a("div",[a("img",{attrs:{src:t.donationImg,width:"320",height:"400"}})])])},N=[],O={name:"Donate",data:function(){return{donationImg:a("007b")}}},z=O,S=Object(v["a"])(z,T,N,!1,null,"5b582942",null),E=S.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("🦨友链")])]),a("div",t._l(t.friendLinks,(function(t,e){return a("a",{key:e,attrs:{href:t.link,title:"V2ex",target:"_blank"}},[a("img",{staticClass:"mb-2",attrs:{src:t.icon}})])})),0)])},$=[];function A(){return Object(u["a"])({url:"/friend_links",method:"get"})}var L={name:"Links",data:function(){return{friendLinks:[]}},created:function(){this.fetchFriendLinks()},methods:{fetchFriendLinks:function(){var t=this;A().then((function(e){t.friendLinks=e.data}))}}},M=L,Y=Object(v["a"])(M,I,$,!1,null,"b9eebc5e",null),D=Y.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-coffee fa-fw"}),t._v(" 统计")])]),a("div",[a("ul",[a("li",{staticClass:"mb-3"},[t._v("社区会员: "+t._s(t.count.user)+" 人")]),a("li",{staticClass:"mb-3"},[t._v("在线人数: "+t._s(t.websocketData.data)+" 人")]),a("li",{staticClass:"mb-3"},[t._v("主题数: "+t._s(t.count.topic)+" 个")]),a("li",{staticClass:"mb-3"},[t._v("回帖数: "+t._s(t.count.comment)+" 条")])])])])},F=[],P=(a("a9e3"),a("5f87"));function B(){return Object(u["a"])({url:"/size/count",method:"get"})}var R={name:"Count",data:function(){return{count:{},path:"ws://127.0.0.1:9999/websocket/online",socket:"",online:Number,websocketData:{},token:Object(P["b"])()}},mounted:function(){this.init()},methods:{init:function(){var t=this;"undefined"===typeof WebSocket?alert("您的浏览器不支持socket"):(this.socket=new WebSocket(this.path),this.socket.onopen=this.onopen,this.socket.onerror=this.onerror,this.socket.onmessage=this.onmessage,this.socket.onclose=this.onclose,B().then((function(e){var a=e.data;t.count=a})))},onopen:function(){},onerror:function(){console.log("websocket发生了错误")},onmessage:function(t){this.websocketData=JSON.parse(t.data),console.log(this.websocketData.data)},onclose:function(){console.log("socket已经关闭")},send:function(t){this.socket.send(t)}},destroyed:function(){this.socket.onclose=this.onclose}},V=R,H=Object(v["a"])(V,q,F,!1,null,"5864fc9b",null),W=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"has-text-weight-bold"},[a("i",{staticClass:"fa fa-cube"}),t._v(" 开源项目")])]),a("div")])},J=[],Q=a("ff41"),U=a.n(Q),X=(a("2f2f"),{name:"OpenSource",created:function(){this.renderMarkdown()},methods:{renderMarkdown:function(){U.a.preview(document.getElementById("preview"))}}}),K=X,Z=Object(v["a"])(K,G,J,!1,null,"8ca233e2",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("📝发布")])]),null!=t.token&&""!==t.token?a("div",{staticClass:"has-text-centered"},[a("b-button",{attrs:{type:"is-danger",tag:"router-link",to:{path:"/topic/post"},outlined:""}},[t._v("✍ 发文")])],1):a("div",{staticClass:"has-text-centered"},[a("b-button",{attrs:{type:"is-primary",tag:"router-link",to:{path:"/register"},outlined:""}},[t._v("马上注册")]),a("b-button",{staticClass:"ml-2",attrs:{type:"is-danger",tag:"router-link",to:{path:"/login"},outlined:""}},[t._v(" 社区登入")])],1)])},at=[],st=a("5530"),it=a("2f62"),nt={name:"LoginWelcome",computed:Object(st["a"])({},Object(it["b"])(["token"]))},rt=nt,ot=Object(v["a"])(rt,et,at,!1,null,"4f7fbab2",null),ct=ot.exports,lt={name:"CardBar",components:{LoginWelcome:ct,OpenSource:tt,CountCard:W,LinksCard:D,DonateCard:E,AdCard:j,TipCard:b}},ut=lt,dt=Object(v["a"])(ut,r,o,!1,null,"7a3ac2b2",null),mt=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"最新资讯",name:"latest"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level has-text-grey is-mobile  is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{path:"/member/"+e.username+"/home"}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-hidden-mobile is-success is-light mr-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"is-hidden-mobile"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0),a("el-tab-pane",{attrs:{label:"热门主题",name:"hot"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level has-text-grey is-mobile  is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{name:"user",params:{username:e.username}}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-hidden-mobile is-success is-light mr-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"is-hidden-mobile"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0),a("el-tab-pane",{attrs:{label:"精华主题",name:"essence"}},t._l(t.articleList,(function(e,s){return a("article",{key:s,staticClass:"media"},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.avatar}})])]),a("div",{staticClass:"media-content"},[a("div",{},[a("p",{staticClass:"ellipsis is-ellipsis-1"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.title,placement:"top"}},[a("router-link",{attrs:{to:{name:"topic-detail",params:{id:e.id}}}},[a("span",{staticClass:"is-size-6"},[t._v(t._s(e.title))]),null!=e.modifyTime&&t.dayjs(e.createTime).add(1,"day")>=t.dayjs(e.modifyTime)?a("el-badge",{attrs:{type:"primary",value:"近3日有更新"}}):t._e(),e.essence?a("el-badge",{attrs:{value:"精华"}}):t._e()],1)],1)],1),a("p",{staticClass:"ellipsis is-ellipsis-3"},[t._v(" "+t._s(e.content)+" ")])]),a("nav",{staticClass:"level has-text-grey is-mobile  is-size-7 mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-left"},[e.top?a("span",{staticClass:"tag has-text-link mr-1"},[t._v("置顶")]):t._e(),a("router-link",{staticClass:"level-item",attrs:{to:{name:"user",params:{username:e.username}}}},[t._v(" "+t._s(e.alias)+" ")]),a("span",{staticClass:"mr-1"},[t._v(" 发布于:"+t._s(t.dayjs(e.createTime).format("YYYY/MM/DD"))+" ")]),t._l(e.tags,(function(e,s){return a("span",{key:s,staticClass:"tag is-hidden-mobile is-success is-light mr-1"},[a("router-link",{attrs:{to:{name:"tag",params:{name:e.name}}}},[t._v(" "+t._s("#"+e.name)+" ")])],1)})),a("span",{staticClass:"is-hidden-mobile"},[t._v("浏览:"+t._s(e.view))])],2)])])]),a("div",{staticClass:"media-right"})])})),0)],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.page.total>0,expression:"page.total > 0"}],attrs:{total:t.page.total,page:t.page.current,limit:t.page.size},on:{"update:page":function(e){return t.$set(t.page,"current",e)},"update:limit":function(e){return t.$set(t.page,"size",e)},pagination:t.init}})],1)],1)},ft=[],ht=(a("b0c0"),a("0fac")),vt=a("333d"),gt={name:"TopicList",components:{Pagination:vt["a"]},data:function(){return{activeName:"latest",articleList:[{avatar:String,createTime:Date}],page:{current:1,size:10,total:0,tab:"latest"}}},created:function(){this.init(this.tab)},methods:{init:function(t){var e=this;Object(ht["b"])(this.page.current,this.page.size,t).then((function(t){var a=t.data;e.page.current=a.current,e.page.total=a.total,e.page.size=a.size,e.articleList=a.records}))},handleClick:function(t){this.init(t.name)}}},bt=gt,_t=Object(v["a"])(bt,pt,ft,!1,null,"4c7a2890",null),Ct=_t.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns is-hidden-mobile is-multiline has-text-centered"},[a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/explore"}}},[a("section",{staticClass:"box my-card hero is-success"},[a("i",{staticClass:"fa fa-server fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("发现")])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/activities"}}},[a("section",{staticClass:"box my-card hero is-warning"},[a("i",{staticClass:"fa fa-file-sound-o fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("活动")])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/idle"}}},[a("section",{staticClass:"box my-card hero is-info"},[a("i",{staticClass:"el-icon-help fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("圆桌派")])])])],1),a("div",{staticClass:"column is-one-quarter"},[a("router-link",{attrs:{to:{path:"/columns"}}},[a("section",{staticClass:"box my-card hero is-danger"},[a("i",{staticClass:"fa fa-cube fa-4x"}),a("p",{staticClass:"subtitle mt-5"},[t._v("优质专栏")])])])],1)])},yt=[],xt={name:"HomeCard"},wt=xt,jt=Object(v["a"])(wt,kt,yt,!1,null,"550e8fc4",null),Tt=jt.exports,Nt=a("c24f");function Ot(){return Object(u["a"])({url:"/notice/show",method:"get"})}var zt={name:"Home",components:{TopicList:Ct,CardBar:mt,HomeCard:Tt},data:function(){return{notice:"",active:{user:this.$route.query.user,code:this.$route.query.code}}},created:function(){this.handleActive(),this.fetchNotice()},methods:{handleActive:function(){var t=this;this.active.code&&this.active.user&&Object(Nt["a"])(this.active).then((function(e){var a=e.code,s=e.message;200===a?t.$message({message:s,type:"success"}):t.$message.error(s)}))},fetchNotice:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ot().then((function(e){var a=e.data;t.notice=a}));case 1:case"end":return e.stop()}}),e)})))()}}},St=zt,Et=Object(v["a"])(St,s,i,!1,null,"7ca0eb43",null);e["default"]=Et.exports},c24f:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));var s=a("b775");function i(t){return Object(s["a"])({url:"/register",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/user/active",method:"post",data:t})}function r(t,e,a){return Object(s["a"])({url:"/user/"+t,method:"get",params:{pageNo:e,size:a}})}}}]);